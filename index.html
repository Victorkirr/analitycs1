<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QAZNA ANALYTICS</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to right, #5b90c9, #2f6aa3);
      color: #333;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: white;
      margin-bottom: 40px;
      font-size: 32px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    .card {
      max-width: 600px;
      margin: 20px auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      padding: 30px;
      transition: transform 0.3s ease;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.5s forwards;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: 600;
    }
    input {
      width: 100%;
      padding: 12px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 16px;
    }
    button {
      margin-top: 25px;
      padding: 12px 25px;
      background-color: #0077cc;
      color: white;
      font-weight: bold;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      width: 100%;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #005fa3;
    }
    .low { color: #b30000; }
    .medium { color: #cc7a00; }
    .high { color: #006600; }
    .loader {
      border: 6px solid #f3f3f3;
      border-top: 6px solid #0077cc;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
      display: none;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .progress {
      width: 100%;
      background-color: #eee;
      border-radius: 10px;
      margin-top: 20px;
      height: 20px;
      overflow: hidden;
      position: relative;
    }
    .progress-bar {
      height: 100%;
      transition: width 0.5s ease;
    }
    .progress-value {
      position: absolute;
      top: -30px;
      right: 10px;
      font-weight: bold;
      color: #333;
    }
    .progress-bar.low { background-color: #b30000; }
    .progress-bar.medium { background-color: #cc7a00; }
    .progress-bar.high { background-color: #006600; }
    @media (max-width: 600px) {
      .card {
        padding: 20px;
        border-radius: 12px;
      }
      h1 {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>

  <h1>QAZNA ANALYTICS</h1>

  <form id="creditForm" class="card" novalidate>
    <label for="name">–ò–º—è:</label>
    <input type="text" id="name" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" />

    <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
    <input type="tel" id="phone" required placeholder="+7 (777) 777-77-77" pattern="^\+?\d{7,15}$" />

    <label for="monthlyPayment">–ü–ª–∞—Ç–µ–∂ –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º –≤ –º–µ—Å—è—Ü (‚Ç∏):</label>
    <input type="number" id="monthlyPayment" required min="0" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –ø–ª–∞—Ç–µ–∂–∞" />

    <label for="salary">–ó–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ (‚Ç∏):</label>
    <input type="number" id="salary" required min="0" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞—Ä–ø–ª–∞—Ç—É" />

    <label for="extraIncome">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ (‚Ç∏):</label>
    <input type="number" id="extraIncome" required min="0" placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥" />

    <label for="creditScore">–ö—Ä–µ–¥–∏—Ç–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (1‚Äì100):</label>
    <input type="number" id="creditScore" min="1" max="100" required placeholder="–û—Ç 1 –¥–æ 100" />

    <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
  </form>

  <div class="loader" id="loader"></div>

  <div id="output" class="card" style="display:none;"></div>

  <div id="progressContainer" class="card" style="display:none;">
    <div class="progress">
      <div id="progressBar" class="progress-bar" style="width: 0%"></div>
      <span id="progressValue" class="progress-value"></span>
    </div>
    <p id="amountRange" style="margin-top: 10px; font-weight: bold;"></p>
  </div>

  <div id="recommendations" class="card" style="display:none;"></div>

  <script>
    document.getElementById('creditForm').addEventListener('submit', function(e) {
      e.preventDefault();

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–∏ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
      const nameInput = document.getElementById('name');
      const phoneInput = document.getElementById('phone');

      if (!nameInput.value.trim()) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è.');
        nameInput.focus();
        return;
      }

      const phonePattern = /^\+?\d{7,15}$/;
      if (!phonePattern.test(phoneInput.value.trim())) {
        alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –º–æ–∂–Ω–æ —Å –ø–ª—é—Å–æ–º, –¥–ª–∏–Ω–∞ –æ—Ç 7 –¥–æ 15).');
        phoneInput.focus();
        return;
      }

      // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º loader
      document.getElementById('output').style.display = 'none';
      document.getElementById('recommendations').style.display = 'none';
      document.getElementById('progressContainer').style.display = 'none';
      document.getElementById('loader').style.display = 'block';

      setTimeout(() => {
        // –ß–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
        const monthlyPayment = parseInt(document.getElementById('monthlyPayment').value);
        const salary = parseInt(document.getElementById('salary').value);
        const extraIncome = parseInt(document.getElementById('extraIncome').value);
        const creditScore = parseInt(document.getElementById('creditScore').value);
        const name = nameInput.value.trim();
        const phone = phoneInput.value.trim();

        // –õ–æ–≥–∏–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞
        let scoreRating = 1;
        let ratingText = '';
        if (creditScore <= 15) {
          ratingText = "–ù–∏–∑–∫–∏–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–µ–¥–∏—Ç.";
          scoreRating = 1;
        } else if (creditScore <= 40) {
          ratingText = "–•–æ—Ä–æ—à–∏–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–µ–¥–∏—Ç.";
          scoreRating = 2;
        } else {
          ratingText = "–û—Ç–ª–∏—á–Ω—ã–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–µ–¥–∏—Ç.";
          scoreRating = 3;
        }

        // –õ–æ–≥–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
        let scorePayment = 1;
        let paymentText = '';
        if (monthlyPayment >= 60000 && monthlyPayment <= 100000) {
          paymentText = "–ü–ª–∞—Ç–µ–∂–∏: –û—Ç–ª–∏—á–Ω—ã–π —à–∞–Ω—Å.";
          scorePayment = 3;
        } else if (monthlyPayment <= 190000) {
          paymentText = "–ü–ª–∞—Ç–µ–∂–∏: –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, —Å–æ–≤–µ—Ç—É–µ–º —Ä–µ—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ.";
          scorePayment = 2;
        } else {
          paymentText = "–ü–ª–∞—Ç–µ–∂–∏: –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞. –®–∞–Ω—Å –∫—Ä–µ–¥–∏—Ç–∞ –¥–æ 2 000 000 ‚Ç∏.";
          scorePayment = 1;
        }

        // –õ–æ–≥–∏–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã
        let scoreSalary = 1;
        let salaryText = '';
        if (salary >= 100000 && salary <= 250000) {
          salaryText = "–ó–∞—Ä–ø–ª–∞—Ç–∞: –•–æ—Ä–æ—à–∏–π —à–∞–Ω—Å.";
          scoreSalary = 2;
        } else if (salary > 250000) {
          salaryText = "–ó–∞—Ä–ø–ª–∞—Ç–∞: –í—ã—Å–æ–∫–∏–π —à–∞–Ω—Å.";
          scoreSalary = 3;
        } else {
          salaryText = "–ó–∞—Ä–ø–ª–∞—Ç–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∫—Ä–µ–¥–∏—Ç–∞.";
          scoreSalary = 1;
        }

        // –í–∑–≤–µ—à–µ–Ω–Ω—ã–π —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª
        const avgScore = (scoreRating * 0.5 + scorePayment * 0.3 + scoreSalary * 0.2);

        // –ò—Ç–æ–≥–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        let totalResult = '';
        let resultClass = '';
        let progress = 0;
        let amountRange = '';

        if (avgScore <= 1.5) {
          totalResult = "‚ùå –ù–∏–∑–∫–∏–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–µ–¥–∏—Ç.";
          resultClass = "low";
          progress = 30;
          amountRange = "–ü—Ä–æ–≥–Ω–æ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è: –æ—Ç 500 000 ‚Ç∏ –¥–æ 2 500 000 ‚Ç∏";
        } else if (avgScore <= 2.5) {
          totalResult = "‚ö†Ô∏è –•–æ—Ä–æ—à–∏–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–µ–¥–∏—Ç.";
          resultClass = "medium";
          progress = 65;
          amountRange = "–ü—Ä–æ–≥–Ω–æ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è: –æ—Ç 2 000 000 ‚Ç∏ –¥–æ 4 500 000 ‚Ç∏";
        } else {
          totalResult = "‚úÖ –û—Ç–ª–∏—á–Ω—ã–π —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä–µ–¥–∏—Ç.";
          resultClass = "high";
          progress = 95;
          amountRange = "–ü—Ä–æ–≥–Ω–æ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è: –æ—Ç 5 000 000 ‚Ç∏ –¥–æ 8 000 000 ‚Ç∏ (–±–µ–∑–∑–∞–ª–æ–≥–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç)";
        }

        // –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å —ç–º–æ–¥–∑–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        document.getElementById('loader').style.display = 'none';
        document.getElementById('output').innerHTML =
          `<p><strong>üë§ –ò–º—è:</strong> ${name}</p>
           <p><strong>üìû –¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${phone}</p>
           <hr>
           <p><strong>üìä –ö—Ä–µ–¥–∏—Ç–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥:</strong> ${ratingText}</p>
           <p><strong>üí≥ –ü–ª–∞—Ç–µ–∂–∏:</strong> ${paymentText}</p>
           <p><strong>üíº –ó–∞—Ä–ø–ª–∞—Ç–∞:</strong> ${salaryText}</p>
           <p class="${resultClass}"><strong>${totalResult}</strong></p>`;
        document.getElementById('output').style.display = 'block';

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
        const progressBar = document.getElementById('progressBar');
        progressBar.className = 'progress-bar ' + resultClass;
        progressBar.style.width = progress + '%';
        document.getElementById('progressValue').innerText = progress + '%';
        document.getElementById('amountRange').innerText = amountRange;
        document.getElementById('progressContainer').style.display = 'block';

        // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
        let recommendations = "<strong>üìå –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</strong><br>";
        if (avgScore <= 1.5) {
          recommendations += "‚Äî –£–ª—É—á—à–∏—Ç–µ –∫—Ä–µ–¥–∏—Ç–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é.<br>";
          recommendations += "‚Äî –£–º–µ–Ω—å—à–∏—Ç–µ –¥–æ–ª–≥–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É.<br>";
          recommendations += "‚Äî –ü–æ–¥—É–º–∞–π—Ç–µ –æ —Ç–æ–≤–∞—Ä–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–∞—Ö.<br>";
          recommendations += "<strong>üè¶ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –±–∞–Ω–∫–∏:</strong> –ï–≤—Ä–∞–∑ –ë–∞–Ω–∫, –•–∞–ª—ã–∫, Solva, KMF, B.";
        } else if (avgScore <= 2.5) {
          recommendations += "‚Äî –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –†–ë–ö, –ë–¶–ö, –ñ—É—Å–∞–Ω, –•–æ—É–º.<br>";
          recommendations += "‚Äî –ü–æ–¥—É–º–∞–π—Ç–µ –æ —Ç–æ–≤–∞—Ä–Ω–æ–º –∫—Ä–µ–¥–∏—Ç–µ –¥–æ 2 000 000 ‚Ç∏.";
        } else {
          recommendations += "‚Äî –û—Ç–ª–∏—á–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –±–∞–Ω–∫–∏: –†–ë–ö, –•–æ—É–º, –ë–¶–ö, –ñ—É—Å–∞–Ω, Freedom, Forte, –ë–µ—Ä–µ–∫–µ.";
        }
        const recDiv = document.getElementById('recommendations');
        recDiv.innerHTML = recommendations;
        recDiv.style.display = 'block';

      }, 700); // –∏–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
    });
  </script>

</body>
</html>
